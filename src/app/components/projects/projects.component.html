<div class="chat-layout">
  <!-- Sidebar navigation -->
  <div class="sidebar" role="navigation" aria-label="Main navigation">
    <div class="workspace-title">My workspace</div>
    <nav class="nav-menu">
      <a routerLink="/get-started" class="nav-item" routerLinkActive="active">
        <span class="material-icons" aria-hidden="true">home</span>
        <span>Home</span>
      </a>
      <a routerLink="/projects" class="nav-item" routerLinkActive="active">
        <span class="material-icons" aria-hidden="true">folder</span>
        <span>Projects</span>
      </a>
      <a routerLink="/pending-approvals" class="nav-item" routerLinkActive="active">
        <span class="material-icons" aria-hidden="true">pending_actions</span>
        <span>Pending approvals</span>
      </a>
      <a routerLink="/requests" class="nav-item" routerLinkActive="active">
        <span class="material-icons" aria-hidden="true">assignment</span>
        <span>Requests</span>
      </a>
      <a routerLink="/bookmarks" class="nav-item" routerLinkActive="active">
        <span class="material-icons" aria-hidden="true">bookmark</span>
        <span>Bookmarks</span>
      </a>
      <a routerLink="/chat" class="nav-item" routerLinkActive="active">
        <span class="material-icons" aria-hidden="true">chat</span>
        <span>Chat</span>
      </a>
    </nav>
  </div>
  
  <!-- Main projects area -->
  <div class="chat-area" role="main">
    <div class="chat-header">
      <div class="chat-title">Projects</div>
      <div class="chat-actions">
        <!-- Removed "New Project" button as per requirements -->
        <button class="share-button" aria-label="Filter projects">
          <span class="material-icons" aria-hidden="true">filter_list</span>
          Filter
        </button>
      </div>
    </div>
    
    <div class="projects-container">
      <!-- Loading indicator -->
      <div *ngIf="isLoading" class="loading-indicator">
        <span class="material-icons spinning">sync</span>
        <p>Loading project data...</p>
      </div>
      
      <!-- Error message -->
      <div *ngIf="loadError" class="error-message" role="alert">
        <span class="material-icons">error</span>
        <p>Unable to load project data from the AI model. Showing cached data instead.</p>
      </div>
      
      <!-- Dashboard header -->
      <div class="dashboard-header">
        <h2>TI Initiatives Dashboard</h2>
        <p class="dashboard-description">
          Welcome to the Technology & Innovation Initiatives Dashboard - an interactive tool to showcase the current initiatives that Technology & Innovation (TI) is delivering across the GoA.
          Data is updated on the 15th of each month and includes TDX actuals from the identified 'as of' date.
        </p>
        
        <!-- Date filters - read-only indicators -->
        <div class="date-filters">
          <div class="date-filter active">
            <span class="material-icons" aria-hidden="true">calendar_today</span> As at: {{currentDate}}
          </div>
          <div class="date-filter">
            <span class="material-icons" aria-hidden="true">date_range</span> Showing {{fiscalYear}}
          </div>
        </div>
      </div>

      <!-- Search section - read-only view -->
      <div class="search-section">
        <div class="search-header">
          <span class="material-icons" aria-hidden="true">search</span> Quick search
          <span class="material-icons" aria-hidden="true">expand_less</span>
        </div>
        <div class="search-input-container">
          <div class="search-input">
            <span class="material-icons" aria-hidden="true">search</span>
            <input type="text" placeholder="Search for anything" aria-label="Search projects">
          </div>
        </div>
        
        <!-- Collapsible sections - information only -->
        <div class="collapsible-section">
          <div class="collapsible-header">
            <span class="material-icons" aria-hidden="true">help</span> How to use this resource
            <span class="material-icons" aria-hidden="true">expand_more</span>
          </div>
        </div>
        
        <div class="collapsible-section">
          <div class="collapsible-header">
            <span class="material-icons" aria-hidden="true">trending_up</span> Tech & Innovation Funding Sources Overview
            <span class="material-icons" aria-hidden="true">expand_more</span>
          </div>
        </div>
        
        <div class="collapsible-section">
          <div class="collapsible-header">
            <span class="material-icons" aria-hidden="true">attach_money</span> Fiscal Allocation
            <span class="material-icons" aria-hidden="true">expand_more</span>
          </div>
        </div>
      </div>

      <!-- Ministry cards grid -->
      <div class="ministry-grid">
        <div class="ministry-card" *ngFor="let ministry of ministries">
          <div class="ministry-header">
            <h3>{{ministry.name}}</h3>
            <div class="initiative-count">
              <span class="count">{{ministry.initiatives.count}}</span>
              <span class="label">in-flight initiative{{ministry.initiatives.count !== 1 ? 's' : ''}}</span>
            </div>
          </div>
          
          <div class="progress-container">
            <div class="progress-bar">
              <div class="progress-fill" [style.width.%]="ministry.initiatives.percentSpent"></div>
            </div>
            <div class="budget-info">
              <span class="spent">{{ministry.initiatives.spentBudget}}</span> of the <span class="total">{{ministry.initiatives.totalBudget}}</span> Total forecast has been spent
            </div>
          </div>
        </div>
      </div>
      
      <!-- Note about read-only nature -->
      <div class="info-note">
        <span class="material-icons" aria-hidden="true">info</span>
        <p>This dashboard provides a read-only view of Government of Alberta initiatives. Data is dynamically fetched from the AI model.</p>
      </div>
    </div>
  </div>
</div>
